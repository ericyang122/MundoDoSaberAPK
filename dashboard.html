<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Mundo do Saber</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body class="dashboard-body">
    <!-- Navbar Admin -->
    <nav class="admin-navbar">
        <div class="admin-nav-container">
            <h1>üìö Painel Administrativo</h1>
            <button id="logoutBtn" class="btn-logout">Sair</button>
        </div>
    </nav>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <ul class="sidebar-menu">
                <li class="menu-item active" data-section="add-content">
                    <span>‚ûï</span> Adicionar Conte√∫do
                </li>
                <li class="menu-item" data-section="manage-content">
                    <span>üìã</span> Gerenciar Conte√∫dos
                </li>
                <li class="menu-item" data-section="preview">
                    <span>üëÅÔ∏è</span> Pr√©-visualizar
                </li>
            </ul>
        </aside>

        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Se√ß√£o: Adicionar Conte√∫do -->
            <section id="add-content" class="dashboard-section active">
                <h2>Adicionar Novo Conte√∫do</h2>

                <form id="contentForm" class="content-form" enctype="multipart/form-data">
                    <!-- Informa√ß√µes B√°sicas -->
                    <div class="form-section">
                        <h3>Informa√ß√µes B√°sicas</h3>

                        <div class="form-group">
                            <label for="contentTitle">T√≠tulo do Conte√∫do*</label>
                            <input
                                type="text"
                                id="contentTitle"
                                placeholder="Ex: Novembro Negro"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="contentSubtitle">Subt√≠tulo*</label>
                            <input
                                type="text"
                                id="contentSubtitle"
                                placeholder="Ex: Consci√™ncia, Hist√≥ria e Resist√™ncia"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="contentDescription">Descri√ß√£o (para o card)*</label>
                            <textarea
                                id="contentDescription"
                                rows="3"
                                placeholder="Breve descri√ß√£o que aparecer√° no card na p√°gina principal"
                                required
                            ></textarea>
                        </div>

                        <div class="form-group">
                            <label for="contentIcon">√çcone (emoji)*</label>
                            <input
                                type="text"
                                id="contentIcon"
                                placeholder="Ex: ‚úäüèø (cole um emoji)"
                                maxlength="2"
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="cardImage">Imagem do Card (opcional)</label>
                            <div class="file-upload">
                                <input
                                    type="file"
                                    id="cardImage"
                                    accept="image/png,image/jpeg,image/jpg,image/webp"
                                >
                                <div class="file-upload-label">
                                    <span>üñºÔ∏è</span>
                                    <p>Clique ou arraste uma imagem</p>
                                    <small>PNG, JPG ou WebP (m√°x 2MB)</small>
                                </div>
                            </div>
                            <div id="imagePreview" style="display: none; margin-top: 1rem;">
                                <img style="max-width: 100%; border-radius: 8px;" />
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="fileName">Nome do Arquivo (sem espa√ßos)*</label>
                            <input
                                type="text"
                                id="fileName"
                                placeholder="Ex: novembro-negro"
                                pattern="[a-z0-9-]+"
                                required
                            >
                            <small>Use apenas letras min√∫sculas, n√∫meros e h√≠fens</small>
                        </div>
                    </div>

                    <!-- Upload de V√≠deo -->
                    <div class="form-section">
                        <h3>V√≠deo</h3>

                        <div class="form-group">
                            <label for="videoFile">Upload de V√≠deo*</label>
                            <div class="file-upload">
                                <input
                                    type="file"
                                    id="videoFile"
                                    accept="video/mp4,video/webm"
                                    required
                                >
                                <div class="file-upload-label">
                                    <span>üìπ</span>
                                    <p>Arraste o v√≠deo aqui ou clique para selecionar</p>
                                    <small>Formatos aceitos: MP4, WebM</small>
                                </div>
                            </div>
                            <div id="videoPreview" class="video-preview" style="display: none;">
                                <video controls style="max-width: 100%; border-radius: 8px;"></video>
                            </div>
                        </div>
                    </div>

                    <!-- Posts -->
                    <div class="form-section">
                        <h3>Posts Educacionais</h3>
                        <p class="section-description">Adicione de 3 a 4 posts com conte√∫do educacional</p>

                        <div id="postsContainer">
                            <!-- Post 1 -->
                            <div class="post-form" data-post="1">
                                <h4>Post 1</h4>

                                <div class="form-group">
                                    <label>T√≠tulo do Post*</label>
                                    <input
                                        type="text"
                                        class="post-title"
                                        placeholder="Ex: O Significado do Novembro Negro"
                                        required
                                    >
                                </div>

                                <div class="form-group">
                                    <label>Identifica√ß√£o (data/m√≥dulo)</label>
                                    <input
                                        type="text"
                                        class="post-date"
                                        placeholder="Ex: 20 de Novembro de 2024 ou M√≥dulo 1"
                                    >
                                </div>

                                <div class="form-group">
                                    <label>Conte√∫do do Post*</label>
                                    <textarea
                                        class="post-content"
                                        rows="10"
                                        placeholder="Digite o conte√∫do educacional. Use HTML para formata√ß√£o:
&#10;Para par√°grafo: <p>Texto</p>
Para t√≠tulo: <h4>T√≠tulo</h4>
Para lista: <ul><li>Item</li></ul>
Para negrito: <strong>texto</strong>"
                                        required
                                    ></textarea>
                                    <small>Voc√™ pode usar HTML b√°sico para formata√ß√£o</small>
                                </div>
                            </div>
                        </div>

                        <button type="button" id="addPostBtn" class="btn-add-post">
                            + Adicionar Mais um Post
                        </button>
                    </div>

                    <!-- Bot√µes de A√ß√£o -->
                    <div class="form-actions">
                        <button type="button" class="btn-preview" id="previewBtn">
                            üëÅÔ∏è Pr√©-visualizar
                        </button>
                        <button type="submit" class="btn-submit">
                            ‚úÖ Publicar Conte√∫do
                        </button>
                    </div>
                </form>
            </section>

            <!-- Se√ß√£o: Gerenciar Conte√∫dos -->
            <section id="manage-content" class="dashboard-section">
                <h2>Conte√∫dos Publicados</h2>

                <div id="contentList" class="content-list">
                    <!-- Lista de conte√∫dos ser√° carregada aqui -->
                </div>
            </section>

            <!-- Se√ß√£o: Pr√©-visualiza√ß√£o -->
            <section id="preview" class="dashboard-section">
                <h2>Pr√©-visualiza√ß√£o</h2>

                <div id="previewContainer" class="preview-container">
                    <p class="empty-state">Preencha o formul√°rio e clique em "Pr√©-visualizar" para ver como ficar√° o conte√∫do.</p>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal de Sucesso -->
    <div id="successModal" class="modal" style="display: none;">
        <div class="modal-content success">
            <h3>‚úÖ Sucesso!</h3>
            <p>Conte√∫do publicado com sucesso!</p>
            <button class="btn-primary" onclick="closeSuccessModal()">OK</button>
        </div>
    </div>

    <script src="js/admin-server.js"></script>
</body>
</html>
